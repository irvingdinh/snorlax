import { GitHubLogoIcon } from '@radix-ui/react-icons';
import {
  AccessibleIcon,
  Box,
  Flex,
  IconButton,
  Tooltip,
} from '@radix-ui/themes';
import { Link, useLocation } from '@remix-run/react';

import styles from './Header.module.css';

export const Header = () => {
  const location = useLocation();

  return (
    <div className={styles.HeaderRoot}>
      <div className={styles.HeaderInner}>
        <Flex
          align="center"
          position="absolute"
          top="0"
          bottom="0"
          left="0"
          pl="4"
        >
          <RadixByWorkOSLogoLink />
        </Flex>

        <Flex
          display={{ initial: 'none', md: 'flex' }}
          className={styles.HeaderProductLinksContainer}
        >
          <HeaderProductLink
            href="/about"
            active={location.pathname.startsWith('/about')}
          >
            About
          </HeaderProductLink>
        </Flex>

        <Flex
          display={{ initial: 'none', md: 'flex' }}
          align="center"
          gap="5"
          position="absolute"
          top="0"
          bottom="0"
          right="0"
          pr="4"
        >
          <Tooltip className="radix-themes-custom-fonts" content="View GitHub">
            <IconButton asChild size="3" variant="ghost" color="gray">
              <a
                href="https://github.com/irvingdinh"
                target="_blank"
                aria-label="View GitHub"
                rel="noreferrer"
              >
                <GitHubLogoIcon width="16" height="16" />
              </a>
            </IconButton>
          </Tooltip>
        </Flex>
      </div>
    </div>
  );
};

const HeaderProductLink = ({
  active,
  children,
  href = '',
  ...props
}: React.ComponentPropsWithoutRef<'a'> & { active?: boolean }) => (
  <Link to={href}>
    <a
      data-state={active ? 'active' : 'inactive'}
      className={styles.HeaderProductLink}
      {...props}
    >
      <span className={styles.HeaderProductLinkInner}>{children}</span>
    </a>
  </Link>
);

export const RadixLogo = () => (
  <svg
    width="78"
    height="24"
    viewBox="0 0 314 96"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g clipPath="url(#clip0_2_2)">
      <path
        d="M130.591 22.6364V75H116.375V22.6364H130.591ZM135.373 75V35.7273H149.077V43.1932H149.486C150.202 40.4318 151.336 38.4119 152.887 37.1335C154.455 35.8551 156.287 35.2159 158.384 35.2159C158.998 35.2159 159.603 35.267 160.199 35.3693C160.813 35.4545 161.401 35.5824 161.964 35.7528V47.7955C161.265 47.5568 160.404 47.3778 159.381 47.2585C158.358 47.1392 157.481 47.0795 156.748 47.0795C155.367 47.0795 154.123 47.3949 153.015 48.0256C151.924 48.6392 151.063 49.5085 150.432 50.6335C149.802 51.7415 149.486 53.0455 149.486 54.5455V75H135.373ZM205.206 35.7273L192.013 75H175.649L162.456 35.7273H177.286L183.627 61.7045H184.036L190.377 35.7273H205.206ZM207.06 75V35.7273H221.174V75H207.06ZM214.117 31.6364C212.208 31.6364 210.572 31.0057 209.208 29.7443C207.845 28.483 207.163 26.9659 207.163 25.1932C207.163 23.4205 207.845 21.9034 209.208 20.642C210.572 19.3807 212.208 18.75 214.117 18.75C216.043 18.75 217.68 19.3807 219.026 20.642C220.39 21.9034 221.072 23.4205 221.072 25.1932C221.072 26.9659 220.39 28.483 219.026 29.7443C217.68 31.0057 216.043 31.6364 214.117 31.6364ZM240.319 52.9091V75H226.205V35.7273H239.603V43.1932H240.012C240.864 40.7045 242.364 38.7528 244.512 37.3381C246.677 35.9233 249.199 35.2159 252.08 35.2159C254.859 35.2159 257.271 35.8551 259.316 37.1335C261.378 38.3949 262.972 40.1335 264.097 42.3494C265.239 44.5653 265.802 47.0966 265.785 49.9432V75H251.671V52.9091C251.688 50.9659 251.194 49.4403 250.188 48.3324C249.199 47.2244 247.819 46.6705 246.046 46.6705C244.887 46.6705 243.873 46.9261 243.003 47.4375C242.151 47.9318 241.495 48.6477 241.035 49.5852C240.574 50.5057 240.336 51.6136 240.319 52.9091ZM289.512 90.5455C285.575 90.5455 282.2 89.983 279.387 88.858C276.592 87.75 274.419 86.2159 272.868 84.2557C271.334 82.3125 270.473 80.0795 270.285 77.5568H283.887C284.024 78.392 284.365 79.0653 284.91 79.5767C285.456 80.0881 286.155 80.4545 287.007 80.6761C287.876 80.9148 288.848 81.0341 289.922 81.0341C291.745 81.0341 293.254 80.5909 294.447 79.7045C295.657 78.8182 296.262 77.2159 296.262 74.8977V68.25H295.853C295.342 69.5795 294.558 70.7131 293.501 71.6506C292.444 72.571 291.174 73.2784 289.691 73.7727C288.209 74.25 286.581 74.4886 284.808 74.4886C282.012 74.4886 279.439 73.8409 277.086 72.5455C274.751 71.25 272.876 69.196 271.461 66.3835C270.064 63.571 269.365 59.8977 269.365 55.3636C269.365 50.625 270.098 46.7727 271.564 43.8068C273.047 40.8409 274.956 38.6676 277.291 37.2869C279.643 35.9062 282.115 35.2159 284.706 35.2159C286.649 35.2159 288.353 35.5568 289.819 36.2386C291.285 36.9034 292.512 37.7983 293.501 38.9233C294.49 40.0312 295.24 41.25 295.751 42.5795H296.058V35.7273H310.172V74.8977C310.172 78.2216 309.311 81.0426 307.589 83.3608C305.885 85.696 303.481 87.4773 300.379 88.7045C297.277 89.9318 293.655 90.5455 289.512 90.5455ZM290.024 64.4659C291.319 64.4659 292.427 64.108 293.348 63.392C294.285 62.6591 295.001 61.6193 295.495 60.2727C296.007 58.9091 296.262 57.2727 296.262 55.3636C296.262 53.4205 296.007 51.7585 295.495 50.3778C295.001 48.9801 294.285 47.9148 293.348 47.1818C292.427 46.4318 291.319 46.0568 290.024 46.0568C288.728 46.0568 287.62 46.4318 286.7 47.1818C285.797 47.9148 285.098 48.9801 284.603 50.3778C284.126 51.7585 283.887 53.4205 283.887 55.3636C283.887 57.3068 284.126 58.9602 284.603 60.3239C285.098 61.6705 285.797 62.7017 286.7 63.4176C287.62 64.1165 288.728 64.4659 290.024 64.4659Z"
        fill="black"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M0 16C0 11.7565 1.68571 7.68687 4.68629 4.68629C7.68687 1.68571 11.7565 0 16 0H80C84.2435 0 88.3131 1.68571 91.3137 4.68629C94.3143 7.68687 96 11.7565 96 16V80C96 84.2435 94.3143 88.3131 91.3137 91.3137C88.3131 94.3143 84.2435 96 80 96H16C11.7565 96 7.68687 94.3143 4.68629 91.3137C1.68571 88.3131 0 84.2435 0 80V16ZM76 48C75.9991 49.0605 75.577 50.0772 74.8267 50.8267L62.8267 62.8267C62.4605 63.2197 62.0189 63.5349 61.5282 63.7535C61.0375 63.9721 60.5079 64.0897 59.9708 64.0992C59.4337 64.1086 58.9002 64.0098 58.4021 63.8087C57.9041 63.6075 57.4516 63.308 57.0718 62.9282C56.692 62.5484 56.3925 62.0959 56.1913 61.5979C55.9902 61.0998 55.8914 60.5663 55.9008 60.0292C55.9103 59.4921 56.0279 58.9625 56.2465 58.4718C56.4651 57.9811 56.7803 57.5395 57.1733 57.1733L66.3467 48L57.1733 38.8267C56.7803 38.4605 56.4651 38.0189 56.2465 37.5282C56.0279 37.0375 55.9103 36.5079 55.9008 35.9708C55.8914 35.4337 55.9902 34.9002 56.1913 34.4021C56.3925 33.9041 56.692 33.4516 57.0718 33.0718C57.4516 32.692 57.9041 32.3925 58.4021 32.1913C58.9002 31.9902 59.4337 31.8914 59.9708 31.9008C60.5079 31.9103 61.0375 32.0279 61.5282 32.2465C62.0189 32.4651 62.4605 32.7803 62.8267 33.1733L74.8267 45.1733C75.5787 45.92 76 46.9387 76 48ZM21.1733 45.1733C20.4243 45.9233 20.0035 46.94 20.0035 48C20.0035 49.06 20.4243 50.0767 21.1733 50.8267L33.1733 62.8267C33.5395 63.2197 33.9811 63.5349 34.4718 63.7535C34.9625 63.9721 35.4921 64.0897 36.0292 64.0992C36.5663 64.1086 37.0998 64.0098 37.5979 63.8087C38.0959 63.6075 38.5484 63.308 38.9282 62.9282C39.308 62.5484 39.6075 62.0959 39.8087 61.5979C40.0098 61.0998 40.1086 60.5663 40.0992 60.0292C40.0897 59.4921 39.9721 58.9625 39.7535 58.4718C39.5349 57.9811 39.2197 57.5395 38.8267 57.1733L29.6533 48L38.8267 38.8267C39.2197 38.4605 39.5349 38.0189 39.7535 37.5282C39.9721 37.0375 40.0897 36.5079 40.0992 35.9708C40.1086 35.4337 40.0098 34.9002 39.8087 34.4021C39.6075 33.9041 39.308 33.4516 38.9282 33.0718C38.5484 32.692 38.0959 32.3925 37.5979 32.1913C37.0998 31.9902 36.5663 31.8914 36.0292 31.9008C35.4921 31.9103 34.9625 32.0279 34.4718 32.2465C33.9811 32.4651 33.5395 32.7803 33.1733 33.1733L21.1733 45.1733Z"
        fill="black"
      />
    </g>
    <defs>
      <clipPath id="clip0_2_2">
        <rect width="314" height="96" fill="white" />
      </clipPath>
    </defs>
  </svg>
);

const RadixByWorkOSLogoLink = () => (
  <Flex align="center" gap="3">
    <AccessibleIcon label="Radix Homepage">
      <RadixLogo />
    </AccessibleIcon>

    <div
      style={{
        background: 'currentcolor',
        opacity: 0.15,
        width: 1,
        height: 24,
      }}
    />

    <AccessibleIcon label="Made by WorkOS">
      <svg
        width="85"
        height="24"
        viewBox="0 0 85 24"
        fill="currentcolor"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path d="M35.631 10.3501H33.6565L36.2104 19.9984H38.4739L39.8956 14.1564C40.1844 12.8878 40.2111 12.3196 40.2111 12.3196H40.2378C40.2378 12.3196 40.2644 12.8878 40.5806 14.1564L42.0937 19.9989H44.2918L46.7924 10.3507H44.8179L43.449 16.2319C43.1862 17.382 43.1601 18.0032 43.1601 18.0032H43.1204C43.1204 18.0032 43.0539 17.382 42.7775 16.2319L41.3433 10.3507H39.1055L37.7502 16.2319C37.4869 17.3558 37.395 18.0032 37.395 18.0032H37.3683C37.3683 18.0032 37.316 17.3421 37.0527 16.2319L35.631 10.3501ZM46.4627 16.4936C46.4627 14.2858 47.8844 12.8588 50.0303 12.8588C52.1625 12.8588 53.5836 14.2858 53.5836 16.4929C53.5836 18.7132 52.1619 20.1545 50.0303 20.1545C47.8849 20.154 46.4627 18.7138 46.4627 16.4936ZM51.7409 16.4936C51.7409 15.066 51.0564 14.2596 50.0303 14.2596C48.9246 14.2596 48.3054 15.1583 48.3054 16.4936C48.3054 17.9473 48.9899 18.7531 50.0303 18.7531C51.1358 18.7531 51.7409 17.8544 51.7409 16.4936ZM54.465 12.9665H56.2154V14.2624H56.2551C56.5582 13.5882 57.2813 12.914 58.5185 12.914C58.7285 12.914 58.8607 12.9408 58.9527 12.9665V14.724H58.9004C58.9004 14.724 58.7427 14.6716 58.3079 14.6716C56.9526 14.6716 56.2154 15.4774 56.2154 16.9842V19.9973H54.465V12.9665ZM59.7688 10.3501H61.5191V13.4429C61.5191 15.2666 61.4924 15.5971 61.4924 15.5971H61.5191L64.1252 12.967H66.3098L63.2575 16.0069L66.7984 19.9984H64.7309L62.1769 17.0902L61.5185 17.7376V19.9973H59.7682L59.7688 10.3501ZM66.8234 15.2095C66.8234 12.2359 68.6667 10.2538 71.4307 10.2538C74.1947 10.2538 76.0375 12.2359 76.0375 15.2095C76.0375 18.1833 74.1947 20.1653 71.4307 20.1653C68.6667 20.1653 66.8234 18.1833 66.8234 15.2095ZM74.1283 15.2095C74.1283 13.1876 73.0494 11.8255 71.4296 11.8255C69.8098 11.8255 68.7321 13.1876 68.7321 15.2095C68.7321 17.2316 69.8104 18.5936 71.4296 18.5936C73.0482 18.5936 74.1283 17.2316 74.1283 15.2095ZM76.7072 16.787H78.7084C78.7084 17.924 79.4853 18.5583 80.6698 18.5583C81.6697 18.5583 82.3552 18.0556 82.3552 17.3421C82.3552 16.5363 81.8289 16.3243 80.1562 15.9943C78.6295 15.69 77.0103 15.1742 77.0103 13.1654C77.0103 11.487 78.432 10.2184 80.6032 10.2184C82.8672 10.2184 84.263 11.4078 84.263 13.2047H82.2619C82.2619 12.3327 81.5907 11.7902 80.6032 11.7902C79.6034 11.7902 78.9848 12.2792 78.9848 12.9927C78.9848 13.7461 79.419 14.0362 80.7618 14.3137C82.7484 14.7371 84.381 14.9611 84.381 17.1814C84.381 18.9406 82.8541 20.13 80.6032 20.13C78.3134 20.13 76.7072 18.7953 76.7072 16.787Z" />
        <path d="M0.469655 11C0.469655 11.4821 0.595635 11.9644 0.84029 12.3796L5.27331 20.0879C5.72793 20.8744 6.41899 21.5179 7.27802 21.8056C8.06758 22.0768 8.92645 22.0639 9.70754 21.769C10.4886 21.4742 11.1433 20.9158 11.5595 20.1896L12.6294 18.3279L8.40727 11L12.8649 3.24041L13.9358 1.37959C14.2505 0.834441 14.6786 0.36388 15.191 0H8.31507C7.11004 0 5.99723 0.6435 5.39929 1.69216L0.84029 9.62134C0.596697 10.0396 0.468745 10.5155 0.469655 11ZM25.7496 11C25.7496 10.5178 25.6236 10.0347 25.3789 9.62041L20.8874 1.81041C20.4685 1.08695 19.8135 0.530974 19.0334 0.236502C18.2532 -0.05797 17.3958 -0.0728672 16.606 0.19433C15.7479 0.482163 15.0559 1.12475 14.6013 1.91216L13.5898 3.663L17.8119 11L13.3543 18.7586L12.2835 20.6204C11.9639 21.1704 11.5339 21.6361 11.0282 22H17.9041C19.1091 22 20.2219 21.3565 20.8199 20.3079L25.3789 12.3786C25.6236 11.9644 25.7496 11.4821 25.7496 11Z" />
        <path
          fillOpacity="0.8"
          d="M34.037 6.00916V0.26915H35.0633L36.8931 4.84763H36.9567L38.7865 0.26915H39.8128V6.00916H39.0013V1.79664H38.9416L37.2551 6.00916H36.5947L34.9121 1.79664H34.8485V6.00916H34.037ZM42.3387 6.08076C41.5153 6.08076 40.9067 5.57955 40.9067 4.79592V4.78796C40.9067 4.01626 41.4875 3.56677 42.5177 3.50312L43.6872 3.4355V3.05363C43.6872 2.58027 43.3889 2.31773 42.8041 2.31773C42.3268 2.31773 42.0125 2.49276 41.9091 2.79905L41.9051 2.81496H41.0738L41.0777 2.78711C41.1812 2.07906 41.8614 1.6057 42.8439 1.6057C43.9298 1.6057 44.5424 2.14668 44.5424 3.05363V6.00916H43.6872V5.39657H43.6196C43.365 5.83413 42.9115 6.08076 42.3387 6.08076ZM41.7659 4.76012C41.7659 5.1579 42.104 5.39259 42.5694 5.39259C43.2138 5.39259 43.6872 4.97094 43.6872 4.41405V4.04411L42.6331 4.11173C42.0364 4.14753 41.7659 4.36233 41.7659 4.75216V4.76012ZM47.3349 6.08076C46.2489 6.08076 45.5448 5.20961 45.5448 3.85317V3.84522C45.5448 2.47684 46.237 1.61366 47.3349 1.61366C47.9276 1.61366 48.4327 1.90801 48.6635 2.37342H48.7311V-0.00532025H49.5903V6.00916H48.7311V5.32895H48.6635C48.4129 5.80231 47.9395 6.08076 47.3349 6.08076ZM47.5815 5.34486C48.3015 5.34486 48.743 4.77603 48.743 3.85317V3.84522C48.743 2.92236 48.2975 2.35353 47.5815 2.35353C46.8575 2.35353 46.4239 2.91838 46.4239 3.84522V3.85317C46.4239 4.78001 46.8575 5.34486 47.5815 5.34486ZM52.689 6.09269C51.4241 6.09269 50.6603 5.2295 50.6603 3.86113V3.85715C50.6603 2.50867 51.44 1.6057 52.6453 1.6057C53.8505 1.6057 54.5904 2.47684 54.5904 3.77362V4.07593H51.5275C51.5434 4.90332 51.9969 5.38464 52.7089 5.38464C53.2618 5.38464 53.592 5.11017 53.6954 4.88741L53.7113 4.85559L54.5427 4.85161L54.5347 4.88741C54.3915 5.45624 53.7949 6.09269 52.689 6.09269ZM52.6492 2.31375C52.0605 2.31375 51.615 2.71551 51.5394 3.45937H53.7352C53.6676 2.68767 53.234 2.31375 52.6492 2.31375ZM59.5525 6.08076C58.9479 6.08076 58.4745 5.80231 58.2239 5.32895H58.1603V6.00916H57.2971V-0.00532025H58.1603V2.37342H58.2239C58.4547 1.90801 58.9598 1.61366 59.5525 1.61366C60.6504 1.61366 61.3426 2.47684 61.3426 3.84522V3.85317C61.3426 5.20961 60.6425 6.08076 59.5525 6.08076ZM59.3099 5.34486C60.0299 5.34486 60.4635 4.78001 60.4635 3.85317V3.84522C60.4635 2.91838 60.0299 2.35353 59.3099 2.35353C58.5899 2.35353 58.1444 2.92236 58.1444 3.84522V3.85317C58.1444 4.77603 58.5899 5.34486 59.3099 5.34486ZM62.6274 7.52869C62.52 7.52869 62.3927 7.52073 62.2813 7.5088V6.82859C62.3649 6.84052 62.4723 6.8445 62.5717 6.8445C62.9735 6.8445 63.2121 6.67345 63.3434 6.23589L63.4071 6.01313L61.8398 1.68923H62.7706L63.8526 5.14199H63.9281L65.0061 1.68923H65.9131L64.306 6.17622C63.9401 7.21046 63.5025 7.52869 62.6274 7.52869Z"
        />
      </svg>
    </AccessibleIcon>
  </Flex>
);
